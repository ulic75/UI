card_ulic_nowplaying:
  show_name: false
  show_icon: false
  styles:
    card:
      - padding: 0
    grid:
      - grid-template-areas: "'media_player'"
      - grid-template-columns: auto
      - grid-template-rows: auto
      - text-align: left
  card_mod:
    style:
      .: |
        {% if states(config.entity) != 'playing' %}
        :host {
          --vertical-stack-card-margin: 0;
        }
        {% endif %}
  custom_fields:
    media_player:
      card:
        type: conditional
        conditions:
          - entity: "[[[ return entity.entity_id ]]]"
            state: playing
        card:
          type: custom:mini-media-player
          entity: "[[[ return entity.entity_id ]]]"
          artwork: material
          hide:
            controls: true
            volume: true
            power: true
            runtime: false
  state:
    - operator: template
      value: "[[[ states[entity.entity_id].state != 'playing' ]]]"
      styles:
        card:
          - display: none

card_ulic_nowplaying_with_controls:
  template: card_ulic_nowplaying
  custom_fields:
    media_player:
      card:
        card:
          hide:
            controls: false
            volume: false
